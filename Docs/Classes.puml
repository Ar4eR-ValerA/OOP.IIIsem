@startuml

class BackupJob {
    + StorageMode StorageMode
    - IJobObject JobObject
    - RestorePoint[] RestorePoints
    
    + RestorePoint Archive(string name)
}

class IJobObject {
    + FileInfo[] GetFiles()
}

package JobObjects {
    class FilesJobObject {
        + FileInfo[] FileInfos
    }
    
    class FileJobObject {
        + FileInfo FileInfo
    }
    
    class DirectoryJobObject {
        + DirectoryInfo DirectoryInfo
    }
}

class RestorePoint {
    ~ FileInfo[] LocalFileInfos
    - string Name
    - IStorage[] Storages
}

class IStorage {
    + FileInfo[] GetFiles()
}

class ZipArchiver {
    + void ArchiveSingleMode(RestorePoint restorePoint, string path)
    + void ArchiveSplitMode(RestorePoint restorePoint, string path)
}

package Storages {
    class FileStorage {
        FileInfo FileInfo
    }
    
    class DirectoryStorage {
        DirectoryInfo DirectoryInfo
    }
}

BackupJob o-- RestorePoint
RestorePoint o-- IStorage
BackupJob o-- IJobObject
RestorePoint --> ZipArchiver
JobObjects <|-- IJobObject
IStorage <-- ZipArchiver

IStorage --|> Storages

@enduml